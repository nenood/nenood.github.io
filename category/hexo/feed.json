{
    "version": "https://jsonfeed.org/version/1",
    "title": "N.E.O.D • All posts by \"hexo\" category",
    "description": "To chronicle certain moments.",
    "home_page_url": "https://nenood.xyz",
    "items": [
        {
            "id": "https://nenood.xyz/2024/01/20/%E5%A6%82%E4%BD%95%E4%BD%BFHexo%E6%94%AF%E6%8C%81Latex%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E7%9A%84%E6%B8%B2%E6%9F%93/",
            "url": "https://nenood.xyz/2024/01/20/%E5%A6%82%E4%BD%95%E4%BD%BFHexo%E6%94%AF%E6%8C%81Latex%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E7%9A%84%E6%B8%B2%E6%9F%93/",
            "title": "如何使Hexo支持Latex数学公式的渲染（NexT主题）",
            "date_published": "2024-01-20T13:18:30.000Z",
            "content_html": "<p>刚使用Hexo写博客，后来发现Hexo并不支持Latex数学公式的渲染</p>\n<p>网上查阅一番之后进行一通折腾，踩了许多的坑，于是决定以此来写我的第一篇博客</p>\n<hr>\n<p>后续应该也会写上关于Hexo博客搭建的简明教程之类的，因为之前以为博客搭建是个简单的事情，实际上手后才发现并不是如此</p>\n<p>运气好可能顺着某个教程一路就能成功，但是运气不好的话，可能就会到处报错</p>\n<p>因此决定写一些侧重于解决问题的博客，希望或多或少能帮到一些人。（因为我遇到的问题比较多，应该算是”经验满满“了）以下是正文</p>\n<hr>\n<span id=\"more\"></span>\n<h4 id=\"步骤一：卸载与hexo-math有关的npm包\"><a href=\"#步骤一：卸载与hexo-math有关的npm包\" class=\"headerlink\" title=\"步骤一：卸载与hexo math有关的npm包\"></a>步骤一：卸载与hexo math有关的npm包</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm un hexo-math --save</span><br><span class=\"line\">npm un hexo-renderer-markdown --save</span><br></pre></td></tr></table></figure>\n<h4 id=\"步骤二：安装Pandoc、过滤插件和渲染插件\"><a href=\"#步骤二：安装Pandoc、过滤插件和渲染插件\" class=\"headerlink\" title=\"步骤二：安装Pandoc、过滤插件和渲染插件\"></a>步骤二：安装Pandoc、过滤插件和渲染插件</h4><ol>\n<li><p>安装Pandoc<br><a class=\"link\"   href=\"https://github.com/jgm/pandoc/blob/main/INSTALL.md\" >How to install Pandoc<i class=\"fas fa-external-link-alt\"></i></a><br>点击上方链接进入后根据引导文档安装即可<br><strong>注</strong>：根据安装程序所说，安装完成后需要重启电脑（似乎是重启电脑），笔者当时并未尝试不重启电脑的情况</p>\n</li>\n<li><p>安装过滤插件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i hexo-filter-mathjax --save</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<ol>\n<li><p>安装渲染插件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i hexo-renderer-pandoc --save</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h4 id=\"步骤三：配置mathjax\"><a href=\"#步骤三：配置mathjax\" class=\"headerlink\" title=\"步骤三：配置mathjax\"></a>步骤三：配置mathjax</h4><ul>\n<li><p><strong>主题</strong>配置文件（_config.yml）中：<br><code>Ctrl f</code>搜索”math“<br><code>per_page:</code>一项修改为<code>true</code><br><code>mathjax</code>中的<code>enable</code>设置为<code>true</code><br>若<code>per_page</code>设置为<code>false</code>则每次生成新的.md文件后需要在开头的配置内容中添加<code>mathjax: true</code></p>\n<p><strong>注：</strong><code>mathjax</code>与下方的<code>katex</code>只能有一个的<code>enable</code>为<code>true</code></p>\n</li>\n<li><p><strong>博客</strong>配置文件中：<br>加入以下代码</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Configure pandoc to use all github markdown format extensions</span></span><br><span class=\"line\"><span class=\"comment\"># extensions as of 2018 is an undocumented feature of hexo-renderer-pandoc</span></span><br><span class=\"line\"><span class=\"comment\"># Adding all extensions for github so we don&#x27;t have to change index.js of</span></span><br><span class=\"line\"><span class=\"comment\"># hexo-renderer-pandoc.</span></span><br><span class=\"line\"><span class=\"attr\">pandoc:</span></span><br><span class=\"line\">  <span class=\"attr\">extensions:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">-implicit_figures</span> <span class=\"comment\"># 防止在图片后面将方括号里的东西作为caption。</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">+gfm_auto_identifiers+angle_brackets_escapable</span> <span class=\"comment\"># Not available in pandoc 1.16</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">+pipe_tables+raw_html+fenced_code_blocks</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">-ascii_identifiers+backtick_code_blocks+autolink_bare_uris</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">+intraword_underscores+strikeout+hard_line_breaks+emoji</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">+shortcut_reference_links</span></span><br></pre></td></tr></table></figure>\n<p>（本操作是因为默认的markdown语法与GitHub的markdown语法不太一样）</p>\n</li>\n</ul>\n<p>至此，在无任何异常的情况下，Hexo就可以支持Latex数学公式的渲染了</p>\n<h4 id=\"可能会有的问题\"><a href=\"#可能会有的问题\" class=\"headerlink\" title=\"可能会有的问题\"></a>可能会有的问题</h4><p>笔者在操作完上面所有的步骤后，运行<code>hexo g</code>会报错</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pandoc exited with code 23: The extension shortcut_reference_link is not supported <span class=\"keyword\">for</span> markdown</span><br></pre></td></tr></table></figure>\n<p><strong>可能的解决方案</strong>：在上文步骤三中添加代码至<strong>博客</strong>配置文件中，将<code>- +shortcut_reference_links</code>一行注释掉，即：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Configure pandoc to use all github markdown format extensions</span></span><br><span class=\"line\"><span class=\"comment\"># extensions as of 2018 is an undocumented feature of hexo-renderer-pandoc</span></span><br><span class=\"line\"><span class=\"comment\"># Adding all extensions for github so we don&#x27;t have to change index.js of</span></span><br><span class=\"line\"><span class=\"comment\"># hexo-renderer-pandoc.</span></span><br><span class=\"line\"><span class=\"attr\">pandoc:</span></span><br><span class=\"line\">  <span class=\"attr\">extensions:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">-implicit_figures</span> <span class=\"comment\"># 防止在图片后面将方括号里的东西作为caption。</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">+gfm_auto_identifiers+angle_brackets_escapable</span> <span class=\"comment\"># Not available in pandoc 1.16</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">+pipe_tables+raw_html+fenced_code_blocks</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">-ascii_identifiers+backtick_code_blocks+autolink_bare_uris</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">+intraword_underscores+strikeout+hard_line_breaks+emoji</span></span><br><span class=\"line\">    <span class=\"comment\"># - +shortcut_reference_link</span></span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "Hexo博客优化"
            ]
        }
    ]
}