{
    "version": "https://jsonfeed.org/version/1",
    "title": "N.E.O.D • All posts by \"模拟\" tag",
    "description": "To chronicle certain moments.",
    "home_page_url": "https://nenood.xyz",
    "items": [
        {
            "id": "https://nenood.xyz/2024/01/24/%E8%AE%A1%E7%AE%97%E5%99%A8%E7%9A%84%E6%94%B9%E8%89%AF/",
            "url": "https://nenood.xyz/2024/01/24/%E8%AE%A1%E7%AE%97%E5%99%A8%E7%9A%84%E6%94%B9%E8%89%AF/",
            "title": "洛谷 P1022 [NOIP2000 普及组] 计算器的改良",
            "date_published": "2024-01-24T11:48:22.000Z",
            "content_html": "<ul>\n<li><a class=\"link\"   href=\"https://www.luogu.com.cn/problem/P1022\" >P1022 [NOIP2000 普及组] 计算器的改良 - 洛谷<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ul>\n<p>主要是模拟，没什么思维难度，但是许多细节的地方需要注意<del>（对于我这种粗心大意的人来说简直是WA利器）</del></p>\n<span id=\"more\"></span>\n<p>引入两个变量<code>pn</code> <code>f</code>分别记录符号和该项与等号的位置</p>\n<p><code>k</code> <code>b</code>分别记录未知量系数和常数</p>\n<p><code>l</code> <code>n</code>用于处理10以上的数</p>\n<p><strong>注意点：</strong></p>\n<ol>\n<li>前面没有数字的字母表示未知量系数为±1</li>\n<li>等号后没有<code>&#39;+&#39;</code>来重置符号判断</li>\n</ol>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;string&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    string str;</span><br><span class=\"line\">    cin &gt;&gt; str;</span><br><span class=\"line\">    <span class=\"type\">int</span> f = <span class=\"number\">1</span>;                              <span class=\"comment\">// 等号左右</span></span><br><span class=\"line\">    <span class=\"type\">int</span> pn = <span class=\"number\">1</span>, k = <span class=\"number\">0</span>, b = <span class=\"number\">0</span>, l = <span class=\"number\">0</span>, n = <span class=\"number\">0</span>; <span class=\"comment\">// 依次为：符号正负性、未知量系数、常数、前一次的数、当前数</span></span><br><span class=\"line\">    <span class=\"type\">char</span> x;                                 <span class=\"comment\">// 未知量</span></span><br><span class=\"line\">    <span class=\"type\">double</span> ans;                             <span class=\"comment\">// 答案</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; str.<span class=\"built_in\">size</span>(); i++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (str[i] == <span class=\"string\">&#x27;=&#x27;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            f = <span class=\"number\">-1</span>; <span class=\"comment\">// 移项至等号左侧，反转符号</span></span><br><span class=\"line\">            pn = <span class=\"number\">1</span>; <span class=\"comment\">// 遇到等号后需要重置符号，因为等号后没有‘+’但符号也为正</span></span><br><span class=\"line\">            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 判断符号</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (str[i] == <span class=\"string\">&#x27;-&#x27;</span>)</span><br><span class=\"line\">            pn = <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (str[i] == <span class=\"string\">&#x27;+&#x27;</span>)</span><br><span class=\"line\">            pn = <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 累加系数</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"string\">&#x27;0&#x27;</span> &lt;= str[i] &amp;&amp; str[i] &lt;= <span class=\"string\">&#x27;9&#x27;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            n = (str[i] - <span class=\"string\">&#x27;0&#x27;</span>) * pn * f;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i - <span class=\"number\">1</span> &gt;= <span class=\"number\">0</span> &amp;&amp; <span class=\"string\">&#x27;0&#x27;</span> &lt;= str[i - <span class=\"number\">1</span>] &amp;&amp; str[i - <span class=\"number\">1</span>] &lt;= <span class=\"string\">&#x27;9&#x27;</span>)</span><br><span class=\"line\">                n = l * <span class=\"number\">10</span> + n;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i + <span class=\"number\">1</span> &lt; str.<span class=\"built_in\">size</span>() &amp;&amp; <span class=\"string\">&#x27;a&#x27;</span> &lt;= str[i + <span class=\"number\">1</span>] &amp;&amp; str[i + <span class=\"number\">1</span>] &lt;= <span class=\"string\">&#x27;z&#x27;</span>)</span><br><span class=\"line\">                k += n;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> ((i + <span class=\"number\">1</span> &lt; str.<span class=\"built_in\">size</span>() &amp;&amp; (str[i + <span class=\"number\">1</span>] == <span class=\"string\">&#x27;+&#x27;</span> || str[i + <span class=\"number\">1</span>] == <span class=\"string\">&#x27;-&#x27;</span> || str[i + <span class=\"number\">1</span>] == <span class=\"string\">&#x27;=&#x27;</span>)) || i + <span class=\"number\">1</span> == str.<span class=\"built_in\">size</span>())</span><br><span class=\"line\">                b += n;</span><br><span class=\"line\">            l = n;</span><br><span class=\"line\">            <span class=\"comment\">// cout &lt;&lt; n &lt;&lt; endl;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 记录未知量，同时若未知量前没有数字则为根据符号判断为系数+1还是-1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"string\">&#x27;a&#x27;</span> &lt;= str[i] &amp;&amp; str[i] &lt;= <span class=\"string\">&#x27;z&#x27;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            x = str[i];</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i - <span class=\"number\">1</span> &gt;= <span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (str[i - <span class=\"number\">1</span>] == <span class=\"string\">&#x27;-&#x27;</span>)</span><br><span class=\"line\">                    k--;</span><br><span class=\"line\">                <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (str[i - <span class=\"number\">1</span>] == <span class=\"string\">&#x27;+&#x27;</span> || str[i - <span class=\"number\">1</span>] == <span class=\"string\">&#x27;=&#x27;</span>)</span><br><span class=\"line\">                    k++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">                k++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    ans = (<span class=\"type\">double</span>)(-b) / k;</span><br><span class=\"line\">    <span class=\"comment\">// cout &lt;&lt; b &lt;&lt; &quot; &quot; &lt;&lt; k &lt;&lt; endl;</span></span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%c=%.3lf&quot;</span>, x, ans);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "模拟"
            ]
        }
    ]
}